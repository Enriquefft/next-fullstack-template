---
description: Initialize the project's visual identity and component patterns. Creates brand.md - the single source of truth for all UI decisions.
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

Accepted arguments:
- `primary=<color>` - Primary brand color (hex like #2563eb, or name like blue, green, purple)
- `style=<style>` - Visual style: minimal (default), bold, playful
- `fonts=<sans>,<mono>` - Font families (default: Inter, JetBrains Mono)
- `--update` - Update existing brand.md instead of creating new

## Outline

1. **Check for existing brand.md**:
   - If exists and no `--update` flag: Ask "brand.md already exists. Update it? (yes/no)"
   - If exists with `--update` flag: Read current values as defaults
   - If doesn't exist: Proceed with creation

2. **Gather design decisions** (if not provided in arguments):

   Ask the user:
   ```
   Let's define your project's visual identity.
   
   1. Primary color? (hex like #2563eb, or: blue, green, purple, orange, red, neutral)
      Default: neutral (shadcn default)
   
   2. Visual style?
      - minimal: Subtle shadows, soft borders, muted accents (default)
      - bold: Stronger contrast, prominent shadows
      - playful: Larger radius, more color, friendly feel
   
   3. Fonts? (or press enter for defaults)
      - Sans: Inter (default)
      - Mono: JetBrains Mono (default)
   
   4. Any specific shadcn/ui components you know you'll need?
      (or press enter for common set)
   ```

3. **Calculate derived values** based on input:

   From primary color, derive:
   - `--primary`: The input color in HSL
   - `--primary-foreground`: White or black based on contrast
   - `--ring`: Same as primary for focus states
   
   From style, derive:
   - Border radius: minimal=0.5rem, bold=0.375rem, playful=0.75rem
   - Shadow intensity: minimal=sm, bold=md, playful=sm
   - Color saturation adjustments

4. **Generate brand.md** in project root with the following structure:

```markdown
# Brand

> Visual constraints for UI implementation.
> Generated by /init-brand on {date}. Edit as needed.
> Read by: /speckit.design, /speckit.implement

## Quick Reference

| Element | Value |
|---------|-------|
| Primary | {color} |
| Style | {style} |
| Radius | {radius} |
| Sans Font | {sans} |
| Mono Font | {mono} |

---

## Colors

### CSS Variables

Add to `app/globals.css` (or your global CSS file):

\`\`\`css
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    
    --primary: {primary-hsl};
    --primary-foreground: {primary-foreground-hsl};
    
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: {ring-hsl};
    
    --radius: {radius};
  }
  
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    
    --primary: {primary-dark-hsl};
    --primary-foreground: {primary-foreground-dark-hsl};
    
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: {ring-dark-hsl};
  }
}
\`\`\`

### Color Usage

| Purpose | Classes | When to Use |
|---------|---------|-------------|
| Primary action | `bg-primary text-primary-foreground` | Main CTAs, submit buttons |
| Secondary action | `bg-secondary text-secondary-foreground` | Cancel, back buttons |
| Destructive | `bg-destructive text-destructive-foreground` | Delete, remove actions |
| Ghost | `hover:bg-accent hover:text-accent-foreground` | Tertiary actions, menu items |
| Success feedback | `text-success` or `bg-success/10 text-success` | Success messages |
| Warning feedback | `text-warning` or `bg-warning/10 text-warning` | Warning messages |
| Error feedback | `text-destructive` | Error messages, validation |
| Muted text | `text-muted-foreground` | Secondary text, placeholders |
| Borders | `border-border` | Cards, inputs, dividers |

---

## Typography

### Font Stack

\`\`\`css
--font-sans: "{sans-font}", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
--font-mono: "{mono-font}", ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
\`\`\`

### Type Scale

| Element | Classes | Example Usage |
|---------|---------|---------------|
| Page title | `text-3xl font-bold tracking-tight` | Dashboard, Settings |
| Section heading | `text-xl font-semibold tracking-tight` | Form sections |
| Card title | `text-lg font-semibold` | Card headers |
| Body text | `text-sm` | Default content |
| Secondary text | `text-sm text-muted-foreground` | Descriptions, help text |
| Caption | `text-xs text-muted-foreground` | Timestamps, metadata |
| Code | `font-mono text-sm` | Inline code |

---

## Spacing

### Scale

| Token | Tailwind | Pixels | Use For |
|-------|----------|--------|---------|
| xs | `1` | 4px | Icon gaps, tight padding |
| sm | `2` | 8px | Related element gaps |
| md | `4` | 16px | Standard gaps, input padding |
| lg | `6` | 24px | Section gaps, card padding |
| xl | `8` | 32px | Page margins |
| 2xl | `12` | 48px | Major section separation |

### Conventions

| Context | Spacing |
|---------|---------|
| Form field gaps | `space-y-4` |
| Form sections | `space-y-6` |
| Card padding | `p-6` |
| Modal padding | `p-6` |
| Button icon gap | `gap-2` |
| Page container | `container mx-auto px-4 md:px-6` |
| Page vertical | `py-6 md:py-8` |

---

## Shapes

### Border Radius

| Element | Class | Value |
|---------|-------|-------|
| Buttons | `rounded-md` | {radius} |
| Inputs | `rounded-md` | {radius} |
| Cards | `rounded-lg` | calc({radius} + 2px) |
| Modals/Dialogs | `rounded-lg` | calc({radius} + 2px) |
| Badges | `rounded-full` | 9999px |
| Avatars | `rounded-full` | 9999px |
| Tooltips | `rounded-md` | {radius} |

### Shadows

| Element | Class |
|---------|-------|
| Cards (default) | `shadow-sm` |
| Cards (hover) | `hover:shadow-md transition-shadow` |
| Dropdowns | `shadow-md` |
| Modals | `shadow-lg` |
| Popovers | `shadow-md` |

---

## Component Patterns

### Button

\`\`\`tsx
import { Button } from "@/components/ui/button"
import { Loader2 } from "lucide-react"

// Variants
<Button>Primary Action</Button>
<Button variant="secondary">Secondary</Button>
<Button variant="outline">Outline</Button>
<Button variant="ghost">Ghost</Button>
<Button variant="destructive">Delete</Button>
<Button variant="link">Link Style</Button>

// Sizes
<Button size="sm">Small</Button>
<Button size="default">Default</Button>
<Button size="lg">Large</Button>
<Button size="icon"><Icon /></Button>

// States
<Button disabled>Disabled</Button>
<Button disabled>
  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
  Loading...
</Button>

// With icon
<Button>
  <PlusIcon className="mr-2 h-4 w-4" />
  Add Item
</Button>

// Full width
<Button className="w-full">Submit</Button>
\`\`\`

### Input

\`\`\`tsx
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"

// Basic
<Input placeholder="Enter text..." />

// With label
<div className="space-y-2">
  <Label htmlFor="email">Email</Label>
  <Input id="email" type="email" placeholder="you@example.com" />
</div>

// With helper text
<div className="space-y-2">
  <Label htmlFor="username">Username</Label>
  <Input id="username" placeholder="johndoe" />
  <p className="text-sm text-muted-foreground">
    This will be your public display name.
  </p>
</div>

// With error
<div className="space-y-2">
  <Label htmlFor="email">Email</Label>
  <Input id="email" className="border-destructive focus-visible:ring-destructive" />
  <p className="text-sm text-destructive">Please enter a valid email address.</p>
</div>

// Disabled
<Input disabled placeholder="Disabled input" />
\`\`\`

### Card

\`\`\`tsx
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"

// Standard card
<Card>
  <CardHeader>
    <CardTitle>Card Title</CardTitle>
    <CardDescription>Card description or subtitle</CardDescription>
  </CardHeader>
  <CardContent>
    {/* Main content */}
  </CardContent>
  <CardFooter>
    <Button>Action</Button>
  </CardFooter>
</Card>

// Compact card
<Card className="p-4">
  <div className="flex items-center gap-4">
    <Avatar />
    <div>
      <p className="font-medium">Title</p>
      <p className="text-sm text-muted-foreground">Subtitle</p>
    </div>
  </div>
</Card>

// Clickable card
<Card className="cursor-pointer transition-shadow hover:shadow-md">
  {/* content */}
</Card>
\`\`\`

### Alert

\`\`\`tsx
import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert"
import { AlertCircle, CheckCircle, Info, AlertTriangle } from "lucide-react"

// Info (default)
<Alert>
  <Info className="h-4 w-4" />
  <AlertTitle>Note</AlertTitle>
  <AlertDescription>This is an informational message.</AlertDescription>
</Alert>

// Error
<Alert variant="destructive">
  <AlertCircle className="h-4 w-4" />
  <AlertTitle>Error</AlertTitle>
  <AlertDescription>Something went wrong. Please try again.</AlertDescription>
</Alert>

// Success (custom styling)
<Alert className="border-success/50 bg-success/10 text-success [&>svg]:text-success">
  <CheckCircle className="h-4 w-4" />
  <AlertTitle>Success</AlertTitle>
  <AlertDescription>Your changes have been saved.</AlertDescription>
</Alert>

// Warning (custom styling)
<Alert className="border-warning/50 bg-warning/10 text-warning [&>svg]:text-warning">
  <AlertTriangle className="h-4 w-4" />
  <AlertTitle>Warning</AlertTitle>
  <AlertDescription>This action cannot be undone.</AlertDescription>
</Alert>
\`\`\`

### Form

\`\`\`tsx
// Standard form layout
<form className="space-y-4">
  <div className="space-y-2">
    <Label htmlFor="name">Name</Label>
    <Input id="name" placeholder="Enter your name" />
  </div>
  
  <div className="space-y-2">
    <Label htmlFor="email">Email</Label>
    <Input id="email" type="email" placeholder="you@example.com" />
  </div>
  
  <div className="space-y-2">
    <Label htmlFor="message">Message</Label>
    <Textarea id="message" placeholder="Your message..." />
    <p className="text-sm text-muted-foreground">
      Max 500 characters.
    </p>
  </div>
  
  <div className="flex gap-2 justify-end">
    <Button variant="outline" type="button">Cancel</Button>
    <Button type="submit">Submit</Button>
  </div>
</form>

// Form with sections
<form className="space-y-8">
  <div className="space-y-4">
    <h3 className="text-lg font-medium">Personal Information</h3>
    {/* fields */}
  </div>
  
  <div className="space-y-4">
    <h3 className="text-lg font-medium">Preferences</h3>
    {/* fields */}
  </div>
  
  <Button type="submit">Save Changes</Button>
</form>
\`\`\`

---

## State Patterns

### Loading

\`\`\`tsx
import { Loader2 } from "lucide-react"
import { Skeleton } from "@/components/ui/skeleton"

// Full page loading
<div className="flex h-[50vh] items-center justify-center">
  <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
</div>

// Section loading
<div className="flex items-center justify-center py-8">
  <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />
</div>

// Inline loading
<span className="flex items-center gap-2">
  <Loader2 className="h-4 w-4 animate-spin" />
  Loading...
</span>

// Skeleton for content
<div className="space-y-2">
  <Skeleton className="h-4 w-[250px]" />
  <Skeleton className="h-4 w-[200px]" />
</div>

// Skeleton for card
<Card>
  <CardHeader>
    <Skeleton className="h-5 w-[150px]" />
    <Skeleton className="h-4 w-[100px]" />
  </CardHeader>
  <CardContent>
    <Skeleton className="h-20 w-full" />
  </CardContent>
</Card>
\`\`\`

### Empty State

\`\`\`tsx
import { Inbox, Plus } from "lucide-react"

// Standard empty state
<div className="flex flex-col items-center justify-center py-12 text-center">
  <div className="rounded-full bg-muted p-3">
    <Inbox className="h-6 w-6 text-muted-foreground" />
  </div>
  <h3 className="mt-4 text-lg font-semibold">No items yet</h3>
  <p className="mt-2 text-sm text-muted-foreground max-w-sm">
    Get started by creating your first item. It only takes a few seconds.
  </p>
  <Button className="mt-4">
    <Plus className="mr-2 h-4 w-4" />
    Create Item
  </Button>
</div>

// Compact empty state (for tables/lists)
<div className="py-6 text-center text-sm text-muted-foreground">
  No results found.
</div>
\`\`\`

### Error State

\`\`\`tsx
import { AlertCircle, RefreshCw } from "lucide-react"

// Full page error
<div className="flex flex-col items-center justify-center py-12 text-center">
  <div className="rounded-full bg-destructive/10 p-3">
    <AlertCircle className="h-6 w-6 text-destructive" />
  </div>
  <h3 className="mt-4 text-lg font-semibold">Something went wrong</h3>
  <p className="mt-2 text-sm text-muted-foreground max-w-sm">
    We couldn't load this content. Please try again.
  </p>
  <Button variant="outline" className="mt-4">
    <RefreshCw className="mr-2 h-4 w-4" />
    Try Again
  </Button>
</div>

// Inline error
<p className="text-sm text-destructive">Failed to load data.</p>

// Form field error
<p className="text-sm text-destructive">This field is required.</p>
\`\`\`

### Success State

\`\`\`tsx
import { CheckCircle } from "lucide-react"

// Success message
<div className="flex items-center gap-2 text-success">
  <CheckCircle className="h-4 w-4" />
  <span className="text-sm">Changes saved successfully!</span>
</div>

// Success page
<div className="flex flex-col items-center justify-center py-12 text-center">
  <div className="rounded-full bg-success/10 p-3">
    <CheckCircle className="h-6 w-6 text-success" />
  </div>
  <h3 className="mt-4 text-lg font-semibold">All done!</h3>
  <p className="mt-2 text-sm text-muted-foreground max-w-sm">
    Your request has been processed successfully.
  </p>
  <Button className="mt-4">Continue</Button>
</div>
\`\`\`

---

## Layout Patterns

### Page Container

\`\`\`tsx
// Standard page
<div className="container mx-auto px-4 py-6 md:px-6 md:py-8">
  <h1 className="text-3xl font-bold tracking-tight">Page Title</h1>
  <p className="mt-2 text-muted-foreground">Page description</p>
  
  <div className="mt-8">
    {/* Page content */}
  </div>
</div>

// Narrow content (forms, settings)
<div className="container mx-auto max-w-2xl px-4 py-6 md:px-6 md:py-8">
  {/* content */}
</div>

// Full width
<div className="px-4 py-6 md:px-6 md:py-8">
  {/* content */}
</div>
\`\`\`

### Two Column Layout

\`\`\`tsx
// Sidebar + content
<div className="flex min-h-screen">
  <aside className="w-64 border-r p-4">
    {/* Sidebar */}
  </aside>
  <main className="flex-1 p-6">
    {/* Main content */}
  </main>
</div>

// Responsive sidebar
<div className="flex flex-col md:flex-row min-h-screen">
  <aside className="w-full md:w-64 border-b md:border-b-0 md:border-r p-4">
    {/* Sidebar */}
  </aside>
  <main className="flex-1 p-6">
    {/* Main content */}
  </main>
</div>
\`\`\`

### Centered Content

\`\`\`tsx
// Auth pages, simple forms
<div className="flex min-h-screen items-center justify-center p-4">
  <Card className="w-full max-w-md">
    {/* content */}
  </Card>
</div>
\`\`\`

---

## Icons

Using **Lucide React** exclusively.

\`\`\`tsx
import { 
  Plus, Minus, X, Check,           // Actions
  ChevronLeft, ChevronRight,        // Navigation
  ChevronUp, ChevronDown,
  ArrowLeft, ArrowRight,
  Loader2,                          // Loading
  AlertCircle, CheckCircle,         // Status
  Info, AlertTriangle,
  Search, Filter,                   // UI
  Settings, User, LogOut,
  Edit, Trash2, Copy,
  Eye, EyeOff,
  Mail, Lock, 
} from "lucide-react"

// Standard sizes
<Icon className="h-4 w-4" />        // In buttons, inline
<Icon className="h-5 w-5" />        // Standalone small
<Icon className="h-6 w-6" />        // Standalone medium
<Icon className="h-8 w-8" />        // Empty states, features
\`\`\`

---

## Responsive Breakpoints

| Breakpoint | Width | Usage |
|------------|-------|-------|
| (default) | < 640px | Mobile |
| `sm:` | ≥ 640px | Large mobile |
| `md:` | ≥ 768px | Tablet |
| `lg:` | ≥ 1024px | Desktop |
| `xl:` | ≥ 1280px | Large desktop |

### Common Patterns

\`\`\`tsx
// Responsive padding
className="px-4 md:px-6 lg:px-8"

// Responsive grid
className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"

// Hide/show
className="hidden md:block"  // Hide on mobile
className="md:hidden"        // Show only on mobile

// Responsive text
className="text-2xl md:text-3xl lg:text-4xl"

// Responsive stack → row
className="flex flex-col md:flex-row gap-4"
\`\`\`
```

5. **Validate CSS variables**:
   - Check if `app/globals.css` exists
   - If it does, check if variables are already defined
   - Report if there are conflicts or if manual merge is needed

6. **Output summary**:
   ```
   ✓ Created brand.md
   
   Brand Summary:
   - Primary: {color}
   - Style: {style}
   - Radius: {radius}
   - Fonts: {sans}, {mono}
   
   Next steps:
   1. Review brand.md and adjust any values as needed
   2. Ensure CSS variables in globals.css match brand.md
   3. Run /speckit.design for any feature to use these patterns
   ```

## Notes

- This command creates patterns for shadcn/ui components. Adjust component examples if using a different library.
- The CSS variables follow shadcn/ui conventions. If your project uses different variable names, update accordingly.
- brand.md is meant to be edited. The generated version is a starting point.
